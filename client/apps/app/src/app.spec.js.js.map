{"version":3,"file":"app.spec.js.js","sources":["app-store.js","app.css","components/layout/layout.css","components/layout/logo.svg","components/layout/menu/menu-items-service.js","components/layout/menu/menu.css","components/layout/menu/menu.js","components/layout/header/header.js","components/layout/layout.js","app.js","app.spec.js"],"sourcesContent":["export const appStore = {\r\n    namespace: 'app',\r\n    state: {\r\n        menuItems: []\r\n    },\r\n    mutations: {\r\n        setMenuItems(state, { items }) {\r\n            state.menuItems = items;\r\n        }\r\n    },\r\n    actions: {\r\n        async getMenuItems({ mutations, state }, { menuItemsService }) {\r\n            if(state.menuItems.length){\r\n                return;\r\n            }\r\n            const items = await menuItemsService.getAll();\r\n            mutations.setMenuItems.exec({items});\r\n        }\r\n    }\r\n}",":host {\r\n    display: block;\r\n    height: 100%;\r\n}\r\n.app {\r\n    padding: var(--tfg-padding-medium);\r\n}",":host {\r\n    display: block;\r\n    height: 100%;\r\n}\r\n.layout__title {\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n.layout__logo {\r\n    height: 5rem;\r\n}\r\n\r\n.layout__content {\r\n    height: 100%;\r\n}","export default \"data:image/svg+xml,%3Csvg%20id%3D%22Layer_1%22%20data-name%3D%22Layer%201%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3Ctitle%3Ebank-building%3C%2Ftitle%3E%3Cg%20id%3D%22bank-building%22%3E%3Crect%20id%3D%22label%22%20width%3D%22100%25%22%20height%3D%22511.99%22%20fill%3D%22%236200ee%22%2F%3E%3Cg%20id%3D%22bank-building-2%22%20data-name%3D%22bank-building%22%3E%3Cpath%20d%3D%22M384.72%2C351.32H368.61V259.41h16.12V241H127.3v18.43h16.18v91.91H127.3v17.41H113.08v20.39H398.92V368.73h-14.2Zm-177.29%2C0H176.79V259.41h30.64Zm63.89%2C0H240.72V259.41h30.61Zm64%2C0H304.66V259.41h30.62Zm-222.2-132.4v8.59H398.92v-8.59L256%2C122.88ZM306%2C197.59H206v-3L256%2C161l50%2C33.63Z%22%20fill%3D%22%23fff%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E\"","import {HTTPService} from '@tfg-core/http';\r\n\r\nclass MenuItemsService extends HTTPService {\r\n    get config() {\r\n        return this.extendedConfig(super.config, {\r\n            baseURL: '/menu-items'\r\n        });\r\n    }\r\n}\r\n\r\nexport const menuItemsService = new MenuItemsService();",".menu__item {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    left: 0;\r\n    display: flex;\r\n    align-items: center;\r\n    text-decoration: none;\r\n}\r\n.menu__item__icon {\r\n    padding-right: var(--tfg-margin-medium);\r\n    padding-left: var(--tfg-margin-medium);\r\n}","import { Component } from '@tfg-core/component';\r\nimport { ConnectStore } from '@tfg-core/store';\r\nimport { menuItemsService } from './menu-items-service';\r\nimport menuCSS from './menu.css';\r\nimport '@material/mwc-list';\r\nimport '@material/mwc-list/mwc-list-item';\r\nimport '@material/mwc-icon';\r\n\r\nclass TFGAppMenu extends ConnectStore(Component) {\r\n    static properties = {\r\n        items: { type: Array }\r\n    };\r\n    static styles = menuCSS;\r\n    static mapState = {\r\n        items: {\r\n            from: (state) => state.app.menuItems,\r\n            on: (mutations) => mutations.app.setMenuItems\r\n        }\r\n    }\r\n    async connectedCallback() {\r\n        super.connectedCallback();\r\n        await this.store.actions.app.getMenuItems({ menuItemsService });\r\n    }\r\n    _menuItem(item) {\r\n        const { href, icon, label, name } = item;\r\n        const isActive = window.location.pathname === href;\r\n        return this.html`\r\n            <mwc-list-item ?selected=${isActive}>\r\n                <tfg-app-preload .name=${name}>\r\n                    <a class=\"menu__item\" href=${href}>\r\n                        <mwc-icon class=\"menu__item__icon\">${icon}</mwc-icon>\r\n                        ${label}\r\n                    </a>\r\n                </tfg-app-preload>\r\n            </mwc-list-item>\r\n        `;\r\n    }\r\n    render() {\r\n        return this.html`\r\n        <mwc-list activatable>\r\n            ${this.items.map((item) => this._menuItem(item))}\r\n        </mwc-list>\r\n    `\r\n    }\r\n}\r\n\r\ncustomElements.define('tfg-app-menu', TFGAppMenu);","import { Component } from '@tfg-core/component';\r\nimport '@material/mwc-top-app-bar-fixed';\r\nimport '@material/mwc-icon-button';\r\n\r\nclass TFGAppHeader extends Component {\r\n    _onNavIconClick() {\r\n        this.fire('toggle');\r\n    }\r\n    render() {\r\n        return this.html`\r\n            <mwc-top-app-bar-fixed ?centerTitle=${true} @MDCTopAppBar:nav=${this._onNavIconClick}>\r\n                <mwc-icon-button slot=\"navigationIcon\" icon=\"menu\"></mwc-icon-button>\r\n                    <h1 slot=\"title\">TFG Bank</h1>\r\n            </mwc-top-app-bar-fixed>\r\n        `\r\n    }\r\n}\r\n\r\ncustomElements.define('tfg-app-header', TFGAppHeader);","import { Component } from '@tfg-core/component';\r\nimport layoutCSS from './layout.css'\r\nimport logo from './logo.svg';\r\nimport '@material/mwc-drawer';\r\nimport './menu/menu';\r\nimport './header/header';\r\n\r\nclass TFGAppLayout extends Component {\r\n  static styles = layoutCSS;\r\n  _toggleDrawer(){\r\n    this.refs.drawer.open = !this.refs.drawer.open;\r\n  }\r\n  render() { \r\n    return this.html`\r\n      <mwc-drawer ref=\"drawer\" hasHeader type=\"modal\">\r\n        <div slot=\"title\" class=\"layout__title\">\r\n          <img  class=\"layout__logo\" src=${logo} />\r\n        </div>\r\n        <tfg-app-menu></tfg-app-menu>\r\n        <div slot=\"appContent\" class=\"layout__content\">\r\n          <tfg-app-header @toggle=${this._toggleDrawer}></tfg-app-header>\r\n          <slot></slot>\r\n        </div>\r\n      </mwc-drawer>\r\n    `; \r\n  }\r\n}\r\n\r\ncustomElements.define('tfg-app-layout', TFGAppLayout);","import { Component } from '@tfg-core/component';\r\nimport { store } from '@tfg-core/store';\r\nimport { appStore } from './app-store';\r\nimport { appRouter } from './app-router';\r\nimport appCSS from './app.css';\r\nimport './components/layout/layout';\r\n\r\nclass TFGApp extends Component {\r\n  static styles = appCSS;\r\n\r\n  async connectedCallback() {\r\n    super.connectedCallback();\r\n    store.register(appStore);\r\n    await this.updateComplete;\r\n    appRouter.start(this.renderRoot.getElementById('outlet'));\r\n  }\r\n  disconnectedCallback() {\r\n    super.disconnectedCallback();\r\n    store.unregister(appStore);\r\n    appRouter.stop();\r\n  }\r\n  render() {\r\n    return this.html`\r\n      <tfg-app-layout>\r\n        <main id=\"outlet\" class=\"app\"></main>\r\n      </tfg-app-layout>\r\n    `;\r\n  }\r\n}\r\n\r\ncustomElements.define('tfg-app', TFGApp);\r\n\r\nexport default TFGApp;","import TFGApp from './app';\r\ndescribe('App', function() {\r\n\tit('should define tfg-app', () => {\r\n        expect(customElements.get('tfg-app')).toBe(TFGApp);\r\n    });\r\n});"],"names":["appStore","namespace","state","menuItems","mutations","setMenuItems","items","actions","getMenuItems","menuItemsService","length","getAll","exec","styleSheet","MenuItemsService","HTTPService","config","extendedConfig","baseURL","TFGAppMenu","ConnectStore","Component","connectedCallback","store","app","_menuItem","item","href","icon","label","name","isActive","window","location","pathname","html","render","map","type","Array","menuCSS","from","on","customElements","define","TFGAppHeader","_onNavIconClick","fire","TFGAppLayout","_toggleDrawer","refs","drawer","open","logo","layoutCSS","TFGApp","register","updateComplete","appRouter","start","renderRoot","getElementById","disconnectedCallback","unregister","stop","appCSS","describe","it","expect","get","toBe"],"mappings":"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"}